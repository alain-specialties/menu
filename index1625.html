<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Data Viewer</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #111;
        color: white;
        padding: 20px;
        user-select: none; /* Blokkeer tekstselectie */
    }
    h1 {
        text-align: center;
        color: #c0a16b;
    }
    #loginBox {
        text-align: center;
        margin-top: 100px;
    }
    input {
        padding: 8px;
        margin: 5px;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    th, td {
        border: 1px solid #555;
        padding: 6px;
        text-align: center;
    }
    th {
        background-color: #333;
    }
    tr:nth-child(even) {
        background-color: #222;
    }
    #searchBox {
        margin: 10px 0;
        padding: 8px;
        width: 300px;
    }
</style>
</head>
<body oncontextmenu="return false;"> <!-- Rechtsklik blokkeren -->

<h1>Sigaren Catalogus</h1>

<div id="loginBox">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Gebruikersnaam"><br>
    <input type="password" id="password" placeholder="Wachtwoord"><br>
    <button onclick="checkLogin()">Inloggen</button>
    <p id="loginError" style="color:red;"></p>
</div>

<div id="catalog" style="display:none;">
    <input type="text" id="searchBox" placeholder="Zoeken..." onkeyup="filterTable()">
    <table id="cigarTable">
        <thead>
            <tr>
                <th>Stock</th>
                <th>Brand</th>
                <th>Brand 2</th>
                <th>Brand 3</th>
                <th>Box</th>
                <th>€ Unit</th>
                <th># Box</th>
                <th>€ Box</th>
                <th>Size</th>
                <th>Country</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
// Login check
function checkLogin() {
    const user = document.getElementById("username").value.trim();
    const pass = document.getElementById("password").value.trim();
    if (user === "Philbo" && pass === "sigaren2025") {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("catalog").style.display = "block";
        loadCSV();
    } else {
        document.getElementById("loginError").innerText = "Ongeldige login!";
    }
}

// CSV laden en in tabel zetten
function loadCSV() {
    fetch("data.csv")
        .then(response => response.text())
        .then(data => {
            const rows = data.trim().split("\n").slice(1); // eerste rij overslaan (headers)
            const tbody = document.querySelector("#cigarTable tbody");
            rows.forEach(row => {
                const cols = row.split(",");
                const tr = document.createElement("tr");
                cols.forEach(col => {
                    const td = document.createElement("td");
                    td.innerText = col;
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        });
}

// Zoekfunctie
function filterTable() {
    const search = document.getElementById("searchBox").value.toLowerCase();
    const rows = document.querySelectorAll("#cigarTable tbody tr");
    rows.forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(search) ? "" : "none";
    });
}

// PrintScreen detectie (niet waterdicht)
document.addEventListener("keyup", function(e) {
    if (e.key === "PrintScreen") {
        alert("Print Screen is gedeactiveerd!");
        navigator.clipboard.writeText(""); // leeg clipboard
    }
});

// Blokkeer Ctrl+C, Ctrl+P
document.addEventListener("keydown", function(e) {
    if ((e.ctrlKey && e.key.toLowerCase() === "c") || (e.ctrlKey && e.key.toLowerCase() === "p")) {
        e.preventDefault();
        alert("Kopiëren en printen is geblokkeerd!");
    }
});
</script>

</body>
</html>
